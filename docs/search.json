[
  {
    "objectID": "Tema3-3-Metodos-regresion.html",
    "href": "Tema3-3-Metodos-regresion.html",
    "title": "Tema 3. Tercera parte - M√©todos regresi√≥n",
    "section": "",
    "text": "Una regresi√≥n es un modelo que analiza la relaci√≥n entre una variable respuesta y una o m√°s variables explicativas."
  },
  {
    "objectID": "Tema3-3-Metodos-regresion.html#regresi√≥n-lineal-simple",
    "href": "Tema3-3-Metodos-regresion.html#regresi√≥n-lineal-simple",
    "title": "Tema 3. Tercera parte - M√©todos regresi√≥n",
    "section": "1.1 Regresi√≥n lineal simple",
    "text": "1.1 Regresi√≥n lineal simple\n\nRegresi√≥n lineal simple con variables cuantitativas\nVamos a comenzar por analizar la relaci√≥n entre la pendiente y la riqueza\nLo primero antes de hacer un an√°lisis es representar los datos\n\nPlease enable JavaScript to experience the dynamic code cell content on this page.\nHacemos la regresi√≥n empleando la funci√≥n lm que tiene los siguientes argumentos\nformula con la forma y ~ x en la que se especifica cu√°l es la variable respuesta (y) y cu√°l la variable explicativa (x)\ndata en el que hay que especificar la tabla en la que est√°n los datos\nEl resultado es una lista que contiene toda la informaci√≥n sobre los an√°lisis.\n\nPlease enable JavaScript to experience the dynamic code cell content on this page.\nUna vez que hemos hecho el an√°lisis y antes de ver los resultados vamos a comprobar que los supuestos del an√°lisis se cumplen. Igual que en el an√°lisis de la varianza en los modelos de regresi√≥n lineal asumimos\n\nIndependencia de los datos\nNormalidad\nHomocedasticidad\n\nPara ello analizaremos los residuos\n\nPlease enable JavaScript to experience the dynamic code cell content on this page.\nAdem√°s, podemos hacer un gr√°fico Q-Q\n\nPlease enable JavaScript to experience the dynamic code cell content on this page.\nAdem√°s, en los modelos de regresi√≥n suele ser necesario inspeccionar si existen puntos influyentes que tengan un peso excesivo en el an√°lisis. Los puntos influyentes m√°s comunes son los valores at√≠picos que son aquellos puntos en los que la respuesta observada no sigue el patr√≥n establecido por el resto de los datos.\nUna forma de detectar puntos at√≠picos es empleando la distancia de Cook. La distancia de Cook se calcula eliminando un punto en el modelo y volviendo a calcular la regresi√≥n. Esto se repite para cada uno de los puntos.\n\nPlease enable JavaScript to experience the dynamic code cell content on this page.\nComo ejercicio vamos a cambiar uno de los valores de la pendiente por un valor que sea 10 veces el m√°ximo de pendiente observado\n\nPlease enable JavaScript to experience the dynamic code cell content on this page.\nVolvemos a hacer el modelo de regresi√≥n y representamos las ditancias de cook\n\nPlease enable JavaScript to experience the dynamic code cell content on this page.\nRestauramos el valor original\n\nPlease enable JavaScript to experience the dynamic code cell content on this page.\nLa funci√≥n summary nos permite obtener un resumen de los resultados contenidos en el objeto lmS\n\nPlease enable JavaScript to experience the dynamic code cell content on this page.\nEl resultado indica que no hay una asociaci√≥n significativa entre la pendiente y la riqueza de especies. Lo cual concuerda con el gr√°fico de dispersi√≥n en el que ya se intu√≠a que no hab√≠a relaci√≥n alguna.\n\nEjercicio 1 Analiza si existe relaci√≥n entre la diversidad de simpson y la pendiente\n\n\n\nRegresi√≥n lineal con variables categ√≥ricas\nLos modelos de regresi√≥n son muy flexibles y permiten analizar la relaci√≥n entre una variable respuesta continua y variables explicativas categ√≥ricas. Por ejemplo, vamos a analizar el efecto del h√°bitat en la pendiente\n\nPlease enable JavaScript to experience the dynamic code cell content on this page.\ninspeccionamos los resultados\n\nPlease enable JavaScript to experience the dynamic code cell content on this page.\nCuando hay una variable categ√≥rica el modelo se construye en dos pasos.\n\nSe transforma la variable categ√≥rica en tantas variables dummy (valor 0,1) como niveles -1.\n\nUna regresi√≥n con un √∫nico factor y un ANOVA son equivalentes. Vamos a comprobarlo\n\nPlease enable JavaScript to experience the dynamic code cell content on this page."
  },
  {
    "objectID": "Tema3-3-Metodos-regresion.html#selecci√≥n-de-modelos-en-regresi√≥n-lineal-m√∫ltiple",
    "href": "Tema3-3-Metodos-regresion.html#selecci√≥n-de-modelos-en-regresi√≥n-lineal-m√∫ltiple",
    "title": "Tema 3. Tercera parte - M√©todos regresi√≥n",
    "section": "3. Selecci√≥n de modelos en regresi√≥n lineal m√∫ltiple",
    "text": "3. Selecci√≥n de modelos en regresi√≥n lineal m√∫ltiple\nEs frecuente que una o varias de las variables del modelo de regresi√≥n lineal no est√©n asociadas a la variable respuesta. Incluir variables que no son relevantes conlleva ajustar modelos innecesariamente complejos. Por lo tanto, es frecuente realizar un paso previo de selecci√≥n antes de ajustar el modelo definitivo.\nUna funci√≥n √∫til en este sentido el la funci√≥n stepAICdel paquete MASS.\n\nPlease enable JavaScript to experience the dynamic code cell content on this page.\n\nPlease enable JavaScript to experience the dynamic code cell content on this page.\nPara obtener un resumen del proceso usamos:\n\nPlease enable JavaScript to experience the dynamic code cell content on this page.\nTambi√©n podemos ver la tabla de resultados del modelo\n\nPlease enable JavaScript to experience the dynamic code cell content on this page.\nEstas dos opciones son v√°lidas pero tienen algunas limitaciones ya que no garantiza que la combinaci√≥n de variables sea optima y puede sergar tanto los valores de los par√°metros. Una soluci√≥n es calcular todos los modelos posibles y seleccionar el mejor. Esto se puede hacer con el paquete glmulti. Ten√©is un ejemplo de uso del paquete aqu√≠\nSin embargo, incluso cuando calculamos todos los modelos muchas veces no hay certeza de que el modelo seleccionado sea el mejor porque sabemos que aquellos modelos que distan dos puntos de AIC en realidad son equivalentes entre s√≠. Por eso, recientemente se ha propuesto incorporar la incertidumbre en la selecci√≥n de modelos a la hora de describir los resultados. Para esto pod√©is emplear el paquete MuMIn. Ten√©is un ejemplo de aplicaci√≥n en esta p√°gina\nEn cualquier caso es importante que teng√°is en cuenta que ning√∫n m√©todo es perfecto y que lo ideal es seleccionar las variables a incluir en el modelo con criterios cient√≠ficos."
  },
  {
    "objectID": "Tema3-1-Indices.html",
    "href": "Tema3-1-Indices.html",
    "title": "Tema 3. Primera parte - √çndices de diversidad",
    "section": "",
    "text": "En la pr√≥xima sesi√≥n vamos a explorar √≠ndices de biodiversidad. Para ello vamos a emplear bases de datos de la abundancia de especies en herbazales de Alberta en Estados Unidos con el que ya est√°is familiarizados. La base de datos original pod√©is descargarla aqu√≠\nRecordad que los los datos provienen de un estudio de plantas que se realiz√≥ en parcelas de 20 x 20 m. Los datos de abundancia corresponden la cobertura de cada especie en proporci√≥n al total de la parcela.\n\n\nVamos a cargar los datos directamente de una p√°gina web. En R esto es muy sencillo si los datos tienen el formato adecuado. De hecho, vamos a emplear el mismo c√≥digo que empleamos cuando cargamos datos desde un archivo guardado en nuestro ordenador.\nPara ver el formato en el que los datos est√°n almacenados en la nube pinchad aqu√≠\nCargamos los datos:\n\nPlease enable JavaScript to experience the dynamic code cell content on this page.\ny echamos un vistazo a las primeras filas para comprobar que los datos se han cargado correctamente\n\nPlease enable JavaScript to experience the dynamic code cell content on this page."
  },
  {
    "objectID": "Tema3-1-Indices.html#cargar-datos",
    "href": "Tema3-1-Indices.html#cargar-datos",
    "title": "Tema 3. Primera parte - √çndices de diversidad",
    "section": "",
    "text": "Vamos a cargar los datos directamente de una p√°gina web. En R esto es muy sencillo si los datos tienen el formato adecuado. De hecho, vamos a emplear el mismo c√≥digo que empleamos cuando cargamos datos desde un archivo guardado en nuestro ordenador.\nPara ver el formato en el que los datos est√°n almacenados en la nube pinchad aqu√≠\nCargamos los datos:\n\nPlease enable JavaScript to experience the dynamic code cell content on this page.\ny echamos un vistazo a las primeras filas para comprobar que los datos se han cargado correctamente\n\nPlease enable JavaScript to experience the dynamic code cell content on this page."
  },
  {
    "objectID": "Tema3-1-Indices.html#resumen-de-datos",
    "href": "Tema3-1-Indices.html#resumen-de-datos",
    "title": "Tema 3. Primera parte - √çndices de diversidad",
    "section": "Resumen de datos",
    "text": "Resumen de datos\n\nPlease enable JavaScript to experience the dynamic code cell content on this page.\nComprobamos las dimensiones de nuestra matriz que nos dicen el n√∫mero de parcelas (primer n√∫mero, filas) y el n√∫mero de especies (segundo n√∫mero, columnas)\n\nPlease enable JavaScript to experience the dynamic code cell content on this page."
  },
  {
    "objectID": "Tema3-1-Indices.html#representaci√≥n-de-datos",
    "href": "Tema3-1-Indices.html#representaci√≥n-de-datos",
    "title": "Tema 3. Primera parte - √çndices de diversidad",
    "section": "Representaci√≥n de datos",
    "text": "Representaci√≥n de datos\nAdem√°s, es buena idea representar histogramas de distribuci√≥n de datos. Por ejemplo de las especies. Esta gr√°fica nos muestra que en la mayor parte de las cuadr√≠culas Antennaria parviflora tiene un cobertura entre 0 y 10 % pero que en alguna de las cuadr√≠culas puede llegar a ocupar el 70%\n\nPlease enable JavaScript to experience the dynamic code cell content on this page."
  },
  {
    "objectID": "Tema3-1-Indices.html#otras-operaciones-para-explorar-los-datos",
    "href": "Tema3-1-Indices.html#otras-operaciones-para-explorar-los-datos",
    "title": "Tema 3. Primera parte - √çndices de diversidad",
    "section": "Otras operaciones para explorar los datos",
    "text": "Otras operaciones para explorar los datos\nPodemos ver qu√© especie es la m√°s abundante. Para ello tenemos que sumar los valores de cada columna. Podr√≠amos hacerlo columna a columna. Por ejemplo, para la especie de la segunda columna que es Antennaria parviflora\n\nPlease enable JavaScript to experience the dynamic code cell content on this page.\nSi tenemos 100 especies esto implicar√≠a repetir el c√≥digo de arriba 100 veces. Sin embargo, existe una forma r√°pida y sint√©tica de hacer esto mismo utilizando la funci√≥n ColSums.\n\nPlease enable JavaScript to experience the dynamic code cell content on this page.\nAdem√°s podemos ver cu√°l de las parcelas tiene la mayor cobertura\n\nPlease enable JavaScript to experience the dynamic code cell content on this page."
  },
  {
    "objectID": "Tema1-Intro2.html",
    "href": "Tema1-Intro2.html",
    "title": "Tema 1. Segunda parte - Introducci√≥n general a R.",
    "section": "",
    "text": "Ya hemos visto que R es un lenguaje orientado a objetos. En esta parte del tema nos vamos a centrar en entender esto mejor y explorar los distintos tipos de objetos."
  },
  {
    "objectID": "Tema1-Intro2.html#r-un-lenguaje-orientado-a-objetos",
    "href": "Tema1-Intro2.html#r-un-lenguaje-orientado-a-objetos",
    "title": "Tema 1. Segunda parte - Introducci√≥n general a R.",
    "section": "",
    "text": "Ya hemos visto que R es un lenguaje orientado a objetos. En esta parte del tema nos vamos a centrar en entender esto mejor y explorar los distintos tipos de objetos."
  },
  {
    "objectID": "Tema1-Intro2.html#tipos-de-objetos",
    "href": "Tema1-Intro2.html#tipos-de-objetos",
    "title": "Tema 1. Segunda parte - Introducci√≥n general a R.",
    "section": "2. Tipos de objetos",
    "text": "2. Tipos de objetos\nCada tipo de objeto tiene unas propiedades determinadas que estudiaremos poco a poco. Los objetos m√°s sencillos son los vectores. Los tipos objetos de R qu√© trabajaremos son en principio: vectores, listas, matrices y data frames.\n\n2.1 Vectores\nUn vector es una secuencia o concatenacion de valores.\n\nC√≥mo crear vectores\nPara definir un vector utilizamos la funci√≥n c(). Dentro de los par√©ntesis indicamos los valores que queremos concatenar. Algunos ejemplos son:\n\n\nEjercicio 1. Crear vectores\n\nPlease enable JavaScript to experience the dynamic code cell content on this page.\n\nPlease enable JavaScript to experience the dynamic code cell content on this page.\n\n\nEjercicio 2: Crear vectores de secuencias de n√∫meros\nTambi√©n podemos utilizar la funci√≥n seq() para generar secuencias de n√∫meros en un rango determinado\n\nPlease enable JavaScript to experience the dynamic code cell content on this page.\nAcordaros que podemos generar un vector de datos numericos de esta manera, pero si queremos guardarlo como un objeto debemos asignarle un nombre utilizando este simbolo &lt;-\n\nPlease enable JavaScript to experience the dynamic code cell content on this page.\nTambi√©n podemos utilizar el s√≠mbolo : para hacer secuencias de n√∫meros, o de n√∫meros y texto. Podemos utilizar la funci√≥n class() para preguntar de qu√© clase son los elementos que contiene un vector. La √∫nica regla para un vector es que solo puede contener elementos de una misma clase.\n\nPlease enable JavaScript to experience the dynamic code cell content on this page.\n\nPlease enable JavaScript to experience the dynamic code cell content on this page.\n\n\nEjercicio 3. Averiguar la longitud de un vector\nOtra funci√≥n interesante es la funci√≥n length(). Sirve para conocer la longitud de un vector.\n\nPlease enable JavaScript to experience the dynamic code cell content on this page.\n¬øCu√°l es la longitud de este otro vector?\n\nPlease enable JavaScript to experience the dynamic code cell content on this page.\n\n\nC√≥mo acceder a los elementos de un vector\nPodemos utilizar los [] para preguntarle a un vector por valores en posiciones concretas. Por ejemplo en el vector v, consulto el valor del elemento en la posici√≥n 3.\n\nPlease enable JavaScript to experience the dynamic code cell content on this page.\n\nPlease enable JavaScript to experience the dynamic code cell content on this page.\n\nPlease enable JavaScript to experience the dynamic code cell content on this page.\nOJO ¬øQu√© crees que pasar√° si le asigno un valor no num√©rico?\n\nPlease enable JavaScript to experience the dynamic code cell content on this page.\n\nPlease enable JavaScript to experience the dynamic code cell content on this page."
  },
  {
    "objectID": "Tema1-Intro2.html#qu√©-es-la-clase-categor√≠a-de-un-objeto-en-r",
    "href": "Tema1-Intro2.html#qu√©-es-la-clase-categor√≠a-de-un-objeto-en-r",
    "title": "Tema 1. Segunda parte - Introducci√≥n general a R.",
    "section": "2.2 ¬øQu√© es la clase (categor√≠a) de un objeto en R?",
    "text": "2.2 ¬øQu√© es la clase (categor√≠a) de un objeto en R?\nEn R, cada objeto tiene una clase, que le dice al lenguaje qu√© tipo de cosa es ese objeto y c√≥mo debe tratarlo.\n\n\n\n\n\n\nMet√°fora: la mochila de cada objeto\nImagina que cada objeto en R lleva una mochila con una etiqueta que dice:\n\n‚ÄúSoy un n√∫mero‚Äù, ‚ÄúSoy una tabla‚Äù, ‚ÄúSoy un texto‚Äù, ‚ÄúSoy una fecha‚Äù‚Ä¶\n\nEsa etiqueta es su clase. R la usa para saber qu√© puede hacer con ese objeto.\n\n\n¬øC√≥mo averiguar la clase?\nUsamos la funci√≥n class() para averiguarlo:\n\nEjercicio 4. Averiguar la clase (categor√≠a) de un objeto\n\nPlease enable JavaScript to experience the dynamic code cell content on this page.\n\n\nEjercicio 5. Explorando la importancia de la clase\nCaso 1: objeto\n\nPlease enable JavaScript to experience the dynamic code cell content on this page.\n\nPlease enable JavaScript to experience the dynamic code cell content on this page.\n\n\n¬øQu√© aprendemos de esto?\n\nLas funciones en R dependen de la clase del objeto.\nSi usas una funci√≥n con una clase no compatible, R te dar√° un mensaje de error.\nPor eso es √∫til usar class() o str() para diagnosticar antes de aplicar funciones.\n\nNOTA IMPORTANTE todos los elementos dentro de un vector deben ser de la misma clase\n\nPlease enable JavaScript to experience the dynamic code cell content on this page.\n\n\n\n2.2 Listas\nLas listas son un tipo especial de objeto que puede contener elemento de diferentes clases.\nEs como un caj√≥n de sastre: puedes meter dentro n√∫meros, textos, vectores, tablas, funciones‚Ä¶ Incluso se pueden crear listas de listas. Vamos que puedes meter lo que quieras en una lista\n\n¬øQu√© diferencia a una lista de un vector?\n\nUn vector normal (como c(1, 2, 3)) solo puede contener elementos del mismo tipo: todos n√∫meros, o todos textos.\nUna lista, en cambio, puede mezclar tipos: puedes tener un n√∫mero, un vector, una tabla, una funci√≥n‚Ä¶ todo junto.\n\n\n\nC√≥mo crear listas\nLas listas se crean con la funci√≥n list(), la cual puede tomar un n√∫mero arbitrario de argumentos:\nPodemos crear una lista sencilla de elementos de la misma clase\n\nPlease enable JavaScript to experience the dynamic code cell content on this page.\nO listas con elementos de clases diferentes\n\nPlease enable JavaScript to experience the dynamic code cell content on this page.\nO volvernos locos y anidar listas con elementos de clases diferentes\n\nPlease enable JavaScript to experience the dynamic code cell content on this page.\n\n\nC√≥mo acceder a los elementos de una lista\nPodemos acceder por al posici√≥n de cada elemento dentro de la lista utilizando los [], parecido a c√≥mo hac√≠amos con los vectores.\n\nPlease enable JavaScript to experience the dynamic code cell content on this page.\nmilista[1]: devuelve una sublista:\n\nEl resultado sigue siendo una lista, que contiene el primer elemento.\nEs √∫til si quieres mantener la estructura de lista.\n\n\nPlease enable JavaScript to experience the dynamic code cell content on this page.\nmilista[[1]]: devuelve el contenido del primer elemento\n\nEl resultado es el objeto que est√° dentro, no una lista.\n\nEs √∫til si quieres trabajar directamente con el valor.\n¬øY con las listas anidadas? ¬øC√≥mo accedemos a los valores?\n\n\nEjercicio 5. Prueba a cambiar el n√∫mero de corchetes en los dos niveles de selecci√≥n\n\nPlease enable JavaScript to experience the dynamic code cell content on this page.\n\n\nLos elementos de una lista pueden tener nombre\nLos elementos de una lista pueden tener nombre.\n\n\nEjercicio 6. Averiguar y poner nombre a los elementos de una lista\n\nPlease enable JavaScript to experience the dynamic code cell content on this page.\n\nPlease enable JavaScript to experience the dynamic code cell content on this page.\n\nPlease enable JavaScript to experience the dynamic code cell content on this page.\n\n\nEjercicio 7. Buscar el elemento de la lista por nombre\n\nPlease enable JavaScript to experience the dynamic code cell content on this page.\n\n\n\n2.3 Matrices\nEn R, una¬†matriz¬†es una estructura de datos bidimensional que contiene¬†elementos del mismo tipo¬†(por ejemplo, todos num√©ricos o todos caracteres). Es como una¬†tabla sin nombres de columnas ni filas, donde cada celda tiene una posici√≥n definida por su¬†fila¬†y¬†columna.\n\nC√≥mo crear una matriz\nPara crear matrices utilizamos la funci√≥n matrix(). La funci√≥n matrix() permite organizar los datos en una matriz con tantas filas y columnas como se indiquen. Debemos indicar por lo tanto, el n√∫mero de filas, el n√∫mero de columnas y los datos que queremos que aparezcan en su interior. En este caso, los datos se aportan en forma de vector.\n\nPlease enable JavaScript to experience the dynamic code cell content on this page.\n\n\nAcceso a los elementos de una matriz\nPara acceder a los elementos de una matriz utilizamos los [], pero indicamos en su interior la posici√≥n de la fila y la columna a la cual queremos acceder. Con la , indicamos ‚Äútodo‚Äù (todas las filas o todas las columnas)\n\nPlease enable JavaScript to experience the dynamic code cell content on this page.\n\n\nCambiar valores dentro de una matriz\nVeamos primero c√≥mo recortar la matriz y asignarle un nombre:\n\nPlease enable JavaScript to experience the dynamic code cell content on this page.\nPara cambiar valores concretos dentro de la matriz, primero accedermos a ese elemento y le asignamos otro valor:\n\nPlease enable JavaScript to experience the dynamic code cell content on this page.\nTambi√©n podemos seleccionar una submatriz, y sustituirla por otra matriz del mismo tama√±o:\n\nPlease enable JavaScript to experience the dynamic code cell content on this page.\n\n\n\n2.4 Data frames\nLos data frames se utilizan para almacenar datos en formas de tablas. Es decir, en filas y columnas como se utilizan habitualmente en Excell. Esta tablas o data frames pueden almacenar datos de diferentes tipos: n√∫meros, character, enteros (integer)‚Ä¶En un data frame cada columna representa una variable, y cada columna puede contener un tipo de elemento diferente. A diferencia de las matrices que solo pueden contener elementos del mismo tipo.\nUna de las limitaciones del data frame, es que todas las columnas tienen que tener la misma longitud. Si no fuese as√≠, ser√≠a UNA LISTA, es decir una coleccion de objetos o variables de cualquier, tipo, longitud o estructura.\nNormalmente cuando cargamos una base de datos, o importamos una colecci√≥n de datos, estamos creando un data frame. Ahora pod√©is comprobar que la colecci√≥n de datos iris que hemos cargado anteriormente es un data frame.\n\n2.4.1 Como crear un data frame\nVamos a pedir ayuda a R sobre la funci√≥n data.frame()\n\nPlease enable JavaScript to experience the dynamic code cell content on this page.\nPodemos crear un data frame con la funci√≥n data.frame()\n\nPlease enable JavaScript to experience the dynamic code cell content on this page.\nTambi√©n se puede crear el data frame de forma directa, sin generar los vectores previamente, as√≠:\n\nPlease enable JavaScript to experience the dynamic code cell content on this page.\nAhora vamos a consultar diferentes atributos con las funciones class(), mode(), is.data.frame() y is.list()\n\nPlease enable JavaScript to experience the dynamic code cell content on this page.\nUna caracter√≠stica interesantes es que un data frame tambi√©n es una lista. Pero cuidado, una lista no es un data.frame. Para serlo tiene que cumplir el requisito de que todos los elementos que contiene tengan la misma longitud.\notras funciones interesantes para conocer un data frame:\n\nPlease enable JavaScript to experience the dynamic code cell content on this page.\n\n\n2.4.1 Acceso a los elementos de un data frame\nPara acceder a los elementos de un data frame se utilizan los [] y $, de forma similar a como hemos venido haciendo con vectores y listas.\n\nPlease enable JavaScript to experience the dynamic code cell content on this page.\nSe pueden hacer otro tipo de consultas que nos devuelven un vector.\n\nPlease enable JavaScript to experience the dynamic code cell content on this page.\nVamos a acceder a los datos utilizando el simbolo $\n\nPlease enable JavaScript to experience the dynamic code cell content on this page.\nOtras consultas que puedo hacer sobre los datos del data frame es con las funciones dimnames(), rownames(), colnames(), table(), head() y tail()\n\nPlease enable JavaScript to experience the dynamic code cell content on this page."
  },
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "Bienvenid@ al curso de An√°lisis de la biodiversidad en R y SIG",
    "section": "",
    "text": "Bienvenid@ al curso de An√°lisis de la biodiversidad en R y SIG\nEste curso es parte de la asignatura ‚ÄúAn√°lisis de la biodiversidad en R y SIG‚Äù del M√°ster en Biodiversidad de la Universidad Aut√≥noma de Madrid. Lo que est√° aqu√≠ recogido es la parte que corresponde al an√°lisis de la biodiversidad en R.\nPuedes consultar el programa de la asignatura aqu√≠\nEste curso es el resultado del trabajo colectivo de varios profesores. Si quieres utilizarlo puedes hacerlo pero recuerda citar la fuente.\nPara empezar a abrir boca vamos a rellenar una encuesta"
  },
  {
    "objectID": "Tema1-Intro1.html",
    "href": "Tema1-Intro1.html",
    "title": "Tema 1. Primera parte - Introducci√≥n general a R",
    "section": "",
    "text": "Comprender qu√© es R y c√≥mo instalarlo.\nEjecutar comandos b√°sicos en R.\nFamiliarizarse con RStudio y su interfaz.\nImportar y exportar datos en distintos formatos.\nOrganizar el trabajo en proyectos de R."
  },
  {
    "objectID": "Tema1-Intro1.html#objetivos-de-aprendizaje",
    "href": "Tema1-Intro1.html#objetivos-de-aprendizaje",
    "title": "Tema 1. Primera parte - Introducci√≥n general a R",
    "section": "",
    "text": "Comprender qu√© es R y c√≥mo instalarlo.\nEjecutar comandos b√°sicos en R.\nFamiliarizarse con RStudio y su interfaz.\nImportar y exportar datos en distintos formatos.\nOrganizar el trabajo en proyectos de R."
  },
  {
    "objectID": "Tema1-Intro1.html#qu√©-es-r",
    "href": "Tema1-Intro1.html#qu√©-es-r",
    "title": "Tema 1. Primera parte - Introducci√≥n general a R",
    "section": "1. ¬øQu√© es R?",
    "text": "1. ¬øQu√© es R?\n\nR es un lenguaje de programaci√≥n libre y gratuito, especialmente indicado para an√°lisis estad√≠stico y elaboraci√≥n de gr√°ficos.\nTodo el c√≥digo de R est√° disponible como software libre bajo las condiciones de licencia GNU-GPL. Esto implica que cualquier usuario final puede usar, estudiar, compartir (copiar) y modificar el software.\nPuedes acceder al proyecto R en: http://www.r-project.org"
  },
  {
    "objectID": "Tema1-Intro1.html#instalaci√≥n-de-r",
    "href": "Tema1-Intro1.html#instalaci√≥n-de-r",
    "title": "Tema 1. Primera parte - Introducci√≥n general a R",
    "section": "2. Instalaci√≥n de R",
    "text": "2. Instalaci√≥n de R\nSigue las instrucciones en https://cran.r-project.org/ para instalar R seg√∫n tu sistema operativo.\n\n2.1 Usuarios de Windows\nPara usuarios de Windows, selecciona el enlace ‚ÄòDownload R for Windows‚Äô, luego haz clic en el enlace ‚Äòbase‚Äô y finalmente en ‚ÄòDownload R 4.5.1 for Windows‚Äô. Esto iniciar√° la descarga del archivo de instalaci√≥n .exe.\nUna vez completada la descarga, haz doble clic en el archivo ejecutable de R y sigue las instrucciones en pantalla.\nLas instrucciones completas de instalaci√≥n se pueden encontrar en el sitio web de CRAN.\n\n\n\n2.2 Usuarios de Mac\nPara usuarios de Mac, selecciona el enlace ‚ÄòDownload R for (Mac) OS X‚Äô. El archivo binario se puede descargar seleccionando ‚ÄòR-4.3.3.pkg‚Äô.\nUna vez descargado, haz doble clic en el icono del archivo y sigue las instrucciones en pantalla para completar los pasos necesarios.\nConsulta el documento ‚ÄòR for Mac OS X FAQ‚Äô para m√°s informaci√≥n sobre la instalaci√≥n.\n\n\n\n2.3 Usuarios de Linux\nPara usuarios de Linux, el m√©todo de instalaci√≥n depender√° de la distribuci√≥n que est√©s utilizando. Hay instrucciones bastante completas para Debian, Redhat, Suse y Ubuntu.\nEn la mayor√≠a de los casos, puedes usar el gestor de paquetes de tu sistema operativo para instalar R desde el repositorio oficial.\nEn Ubuntu, abre una terminal y ejecuta los siguientes comandos (necesitar√°s permisos de administrador):\nsudo apt update\nsudo apt install r-base\nSi recibes un error al ejecutar los comandos anteriores, puede que necesites a√±adir una entrada a tu archivo sources.list. Para hacerlo, abre el archivo /etc/apt/sources.list en tu editor de texto favorito (gedit, vim, nano, etc.) y a√±ade la siguiente l√≠nea (tambi√©n necesitar√°s permisos de administrador):\ndeb https://cloud.r-project.org/bin/linux/ubuntu disco-cran35/\nUna vez hecho esto, vuelve a ejecutar los comandos apt anteriores y deber√≠as estar listo para comenzar.\n\n\n2.4 Primeros ejercicios: Aprende a utilizar la consola de R\n\nAbre la consola de R\n\n\n\nImprimir valores\n\"Bienvenidos al curso de R y SIG\"\n\nPlease enable JavaScript to experience the dynamic code cell content on this page.\n\n\nOperar\nEl uso m√°s sencillo que se le puede dar a R es el de una calculadora. Consideremos las siguientes operaciones:\n\nSumar: +\nRestar: -\nMultiplicar: *\nDividir: /\nExponenciar: ^\n\n\nPlease enable JavaScript to experience the dynamic code cell content on this page.\n\nPlease enable JavaScript to experience the dynamic code cell content on this page.\n\nPlease enable JavaScript to experience the dynamic code cell content on this page.\n\n\nCrear objetos con &lt;-\nObjetivo: Guardar valores en objetos para usarlos m√°s adelante.\n\nPlease enable JavaScript to experience the dynamic code cell content on this page.\n\nPlease enable JavaScript to experience the dynamic code cell content on this page.\n\n\nEjercicio 1. Crea el objeto y y asignale el valor 3\n\nPlease enable JavaScript to experience the dynamic code cell content on this page.\n\n\nEjercicio 2. Imprime el objeto y\n\nPlease enable JavaScript to experience the dynamic code cell content on this page.\n\n\nCrear vectores\nPodemos crear vectores utilizando c()\n\nPlease enable JavaScript to experience the dynamic code cell content on this page.\n\n\nOperar con objetos\n\nPlease enable JavaScript to experience the dynamic code cell content on this page.\n\nPlease enable JavaScript to experience the dynamic code cell content on this page.\nLo interesante de esto es que puedes operar con vectores\n\nPlease enable JavaScript to experience the dynamic code cell content on this page.\n¬øCu√°l es el resultado?\n\n\nUtilizar funciones\n¬øQu√© es una funci√≥n en R?\nUna funci√≥n en R es una herramienta que realiza una tarea espec√≠fica. Si piensas en analizar datos como si fuera cocinar las funciones son como robots de cocina: le das una entrada (argumentos o ingredientes), realiza una operaci√≥n (pica, tritura o calienta), y te devuelve una salida (resultado, plato hecho).\nR viene con un mont√≥n de funciones listas para usar. Por ejemplo, la funci√≥n mean() calcula la media de un conjunto de n√∫meros.\n¬øC√≥mo usar funciones ya creadas?\nPara utilizar las funciones en R solo necesitas:\n\nEscribir el nombre de la funci√≥n.\nProporcionar los argumentos necesarios entre par√©ntesis.\n\nEjemplo 1: Funciones con un argumento. Calcular la media y la ra√≠z cuadrada\n\nPlease enable JavaScript to experience the dynamic code cell content on this page.\nEjemplo 2: Funciones con m√°s de un argumento. Logaritmo y redondeo\nAlgunas funciones en R necesitan m√°s de un dato para funcionar. Por ejemplo, si quieres redondear un n√∫mero, puedes decirle cu√°ntos decimales usar. Puedes escribir los datos en orden o decirle a R cu√°l es cu√°l usando el nombre del argumento. As√≠ tienes m√°s control sobre lo que hace la funci√≥n.\n\nPlease enable JavaScript to experience the dynamic code cell content on this page.\n¬øHas visto la parte de c√≥digo despu√©s de #? Eso es un comentario. R ignorar√° todo lo que est√© en esa fila y no lo ejecutar√°, sirve para anotar el c√≥digo y que m√°s tarde podamos recordar porqu√© hicimos algo\n\nPlease enable JavaScript to experience the dynamic code cell content on this page.\nEn los ejemplos de arriba hemos nombrado los argumentos de forma expl√≠cita pero esto no es estrictamente necesario. Si no se nombran la funci√≥n opera igualmente\n\nPlease enable JavaScript to experience the dynamic code cell content on this page.\nPero OJO üëÄ si no nombramos los argumentos no se pueden cambiar de orden\n\nPlease enable JavaScript to experience the dynamic code cell content on this page.\n¬øC√≥mo s√© qu√© orden tengo que poner?\nTengo que consultar la ayuda de la funci√≥n\n\nPlease enable JavaScript to experience the dynamic code cell content on this page."
  },
  {
    "objectID": "Tema1-Intro1.html#qu√©-es-rstudio",
    "href": "Tema1-Intro1.html#qu√©-es-rstudio",
    "title": "Tema 1. Primera parte - Introducci√≥n general a R",
    "section": "3. ¬øQu√© es RStudio?",
    "text": "3. ¬øQu√© es RStudio?\nRStudio es un entorno de desarrollo integrado (IDE, por sus siglas en ingl√©s) dise√±ado espec√≠ficamente para trabajar con el lenguaje de programaci√≥n R. Es una herramienta que facilita la escritura de c√≥digo, la visualizaci√≥n de datos, la creaci√≥n de gr√°ficos y la elaboraci√≥n de informes."
  },
  {
    "objectID": "Tema1-Intro1.html#instalaci√≥n-de-rstudio",
    "href": "Tema1-Intro1.html#instalaci√≥n-de-rstudio",
    "title": "Tema 1. Primera parte - Introducci√≥n general a R",
    "section": "4. Instalaci√≥n de Rstudio",
    "text": "4. Instalaci√≥n de Rstudio\n\n4.1 Windows\n\nVe a la p√°gina oficial: https://posit.co/download/rstudio-desktop/\nHaz clic en Download RStudio for Windows.\nEjecuta el archivo .exe descargado.\nSigue los pasos del instalador (siguiente, siguiente‚Ä¶ ¬°listo!).\n\n\n\n4.2 Linux\n\nElige tu distribuci√≥n (Ubuntu, Fedora, etc.) en la p√°gina de descargas.\nDescarga el archivo .deb (para Ubuntu/Debian) o .rpm (para Fedora).\nInstala desde terminal:\n\nsudo dpkg -i rstudio-x.yy.zzz-amd64.deb\n\n\n4.3 macOS\n\nDescarga el instalador para macOS desde la misma p√°gina.\nAbre el archivo .dmg y arrastra RStudio a la carpeta Aplicaciones.\n√Åbrelo desde Launchpad o Finder."
  },
  {
    "objectID": "Tema1-Intro1.html#primeros-pasos-en-rstudio",
    "href": "Tema1-Intro1.html#primeros-pasos-en-rstudio",
    "title": "Tema 1. Primera parte - Introducci√≥n general a R",
    "section": "5. Primeros pasos en RStudio",
    "text": "5. Primeros pasos en RStudio\nAl abrir RStudio ver√°s cuatro paneles principales. El m√°s importante es la consola, donde puedes ejecutar comandos.\n\n\n5.1 Consola\nFunci√≥n: Ejecutar c√≥digo y ver resultados inmediatos\nConsejo: Ideal para pruebas r√°pidas y exploraci√≥n\nEs igual que la consola que hemos manejado cuando hemos abierto R sin Rstudio (ver ejercicios 1 a 5)\n\n\n5.2 Panel de edici√≥n (Script)\nFunci√≥n: Escribir y guardar c√≥digo en archivos .R, .Rmd o .qmd\nConsejo: Ejecuta l√≠neas con Ctrl + Enter (Windows/Linux) o Cmd + Enter (macOS\nüßæ ¬øQu√© es un script en R? Un script en R es un archivo de texto donde puedes escribir, guardar y reutilizar conjuntos de instrucciones. Es como una libreta de recetas para tus an√°lisis de datos.\nüßë‚Äçüç≥ Una met√°fora culinaria: Si pensamos en el an√°lisis de datos como si fuera una actividad de cocina, un script ser√≠a como tu libro de cocina:\n\nCada l√≠nea de c√≥digo es como un paso de una receta. Puedes seguirla paso a paso, modificar ingredientes (datos) o repetirla cuando quieras. Guardar tus scripts te permite documentar tu trabajo y reproducir tus an√°lisis f√°cilmente.\n\n\nEjercicio 3: Crea y guarda tu primer script\nEn este ejercicio aprender√°s a crear tu primer script en R usando RStudio. Un script es un archivo donde puedes escribir y guardar tu c√≥digo para ejecutarlo m√°s tarde.\nPaso 1: Abrir el editor de scripts\nVe al men√∫ File &gt; New File &gt; R Script.\nPaso 2: Escribir tu primer script de c√≥digo\nEscribe el siguiente c√≥digo en el script:\n\nPlease enable JavaScript to experience the dynamic code cell content on this page.\nPaso 3: Guarda tu primer script\nUna vez que hayas escrito tu c√≥digo en el editor de panel de edici√≥n, sigue estos pasos para guardarlo:\n\nHaz clic en el men√∫ File (Archivo).\nSelecciona Save o presiona el atajo de teclado Ctrl + S (Windows/Linux) o Cmd + S (macOS).\nElige una carpeta donde quieras guardar tu archivo.\nEscribe un nombre para tu script, por ejemplo: primer_script.R\nHaz clic en Guardar.\n\n\n\nEjercicio 4: Ejecuta el c√≥digo del script\nEjecutar una sola l√≠nea\n\nColoca el cursor en la l√≠nea que quieres ejecutar.\nPresiona Ctrl + Enter (Windows/Linux) o Cmd + Enter (macOS).\nEl resultado aparecer√° en la consola (panel inferior izquierdo).\n\nEjecutar varias l√≠neas\n\nSelecciona varias l√≠neas de c√≥digo con el rat√≥n o el teclado.\nPresiona Ctrl + Enter o Cmd + Enter.\nTodas las l√≠neas seleccionadas se ejecutar√°n en orden.\n\nEjecutar todo el script\n\nVe al men√∫ Code &gt; Run Region &gt; Run All\no haz clic en el bot√≥n Source (√≠cono de hoja con flecha verde) en la parte superior del script.\nTambi√©n puedes usar el atajo Ctrl + Shift + Enter (Cmd + Shift + Enter en macOS).\nTodo el contenido del script se ejecutar√° en la consola.\n\n\n\n\n5.3 Entorno de trabajo / Historial\nFunci√≥n: Ver objetos creados (variables, funciones, etc.) y el historial de comandos\nConsejo: √ötil para revisar qu√© has hecho y qu√© est√° disponible\nEn R, el entorno de trabajo es el espacio donde se almacenan los objetos que creamos (vectores, funciones, data frames, etc.). Podemos inspeccionar, modificar y limpiar este entorno usando funciones espec√≠ficas.\n\nCrear, listar y borrar objetos en el entorno de trabajo\n\nPlease enable JavaScript to experience the dynamic code cell content on this page.\n\nPlease enable JavaScript to experience the dynamic code cell content on this page.\n\nPlease enable JavaScript to experience the dynamic code cell content on this page.\n\n\n\n5.4 Archivos / Gr√°ficos / Paquetes / Ayuda / Viewer\n\nFunciones:\n\nVer gr√°ficos generados\nGestionar paquetes\nConsultar ayuda de funciones\nNavegar por archivos del proyecto\n\n\nEste panel de RStudio permite gestionar varios aspectos clave del entorno de trabajo. Vamos a centrarnos en paquetes, con ejemplos aplicados a biodiversidad.\nPaquetes Los paquetes en R son colecciones de funciones, datos y documentaci√≥n que ampl√≠an las capacidades b√°sicas del lenguaje. Para trabajar con biodiversidad, hay paquetes muy √∫tiles que permiten cargar datos ecol√≥gicos, calcular √≠ndices de diversidad, y visualizar mapas o redes de especies.\n\n¬øC√≥mo se instalan y cargan?\nADVERTENCIA: Los siguientes ejercicios requieren el paquete vegan, que no est√° disponible en webR. Para ejecutarlo, usa R en tu ordenador local.\n\nPlease enable JavaScript to experience the dynamic code cell content on this page.\n\n\n¬øC√≥mo se usan los paquetes?\nIgual que con las funciones podemos buscar la ayuda\n\nPlease enable JavaScript to experience the dynamic code cell content on this page.\n\n\nUso de la funci√≥n specnumber del paquete vegan\n\nPlease enable JavaScript to experience the dynamic code cell content on this page."
  },
  {
    "objectID": "Tema1-Intro1.html#aprender-a-cargar-y-guardar-datos",
    "href": "Tema1-Intro1.html#aprender-a-cargar-y-guardar-datos",
    "title": "Tema 1. Primera parte - Introducci√≥n general a R",
    "section": "6. Aprender a cargar y guardar datos",
    "text": "6. Aprender a cargar y guardar datos\n\n6.1 Importar datos al entorno de trabajo\nPara poder proceder con un an√°lisis de datos, debemos cargar los datos en R. En este tutorial aprenderemos a importar y exportar datos en diferentes formatos. Hemos seleccionado los m√°s comunmente utilizados.\nPodemos importar en formato texto o tabulares desde un archivo .txt o .csv Podemos importar directamente desde Excel, archivos .xls o .xlxs Tambi√©n existen formatos propios de R, como los .Rdata o .rda y los serialized R objects .rds\n\n\n6.2 Cargar datos integrados\nR viene con varios conjuntos de datos ya cargados que puedes usar para practicar sin tener que importar nada. Puedes escribir¬†data()¬†para ver la lista completa.\nPara cargar los datos integrados basta con escribir data() y el nombre de los datos.\n\n\nCargar datos integrados\nDurante este ejercicio vamos a utilizar el conjunto o set de datos iris. Este conjunto de datos, contiene datos sobre caracter√≠sticas florales de tres especies del g√©nero Iris.\nPara cargarlo utilizaremos la funci√≥n data(), y lo exploraremos utilizando la funci√≥n head() que nos permite visualizar las primeras 6 filas. Tambi√©n vamos a introducir nuevas funciones que nos permitir√°n explorar el conjunto de datos iris: dim() colnames() y tail()\n\nPlease enable JavaScript to experience the dynamic code cell content on this page.\n\nPlease enable JavaScript to experience the dynamic code cell content on this page.\n\nPlease enable JavaScript to experience the dynamic code cell content on this page.\n\nPlease enable JavaScript to experience the dynamic code cell content on this page.\n\nPlease enable JavaScript to experience the dynamic code cell content on this page.\n\nPlease enable JavaScript to experience the dynamic code cell content on this page.\n\nPlease enable JavaScript to experience the dynamic code cell content on this page.\n\n\n\n6.3 Importar datos desde CSV\nAunque esta forma de importar datos puede ser muy √∫til para probar funciones o aprender a escribir c√≥digo lo normal es que queramos cargar una base de datos propia. Uno de los formatos m√°s sencillo de importar y que adem√°s ofrece buenas propiedades de interoperabilidad es el .csv\nVamos a trabajar con los datos de una base de datos de la abundancia de especies en herbazales de Alberta en Estados Unidos.\nLos datos de composici√≥n espec√≠fica consisten t√≠picamente en observaciones de la presencia o abundancia de las especies en diferentes localidades.\nEn el ejemplo que vamos a emplear los datos provienen de un estudio de plantas que se realiz√≥ en parcelas de 20 x 20 m. Los datos de abundancia corresponden la cobertura de cada especie en proporci√≥n al total de la parcela.\nComenzaremos por descargar los datos desde aqu√≠\n\nNOTA: Los datos originales provienen de un taller sobre an√°lisis de la biodiversidad en R que se pueden encontrar aqu√≠.\n\n\nEjercicio 5. Carga los datos de comunidades de Alberta\nPara cargar el archivo tienes que cambiar el texto ‚Äúpath_to_my_data‚Äù por la ruta del archivo. Para ello:\n\nBusca el archivo en la carpeta ‚ÄúDescargas‚Äù\nAbre el Explorador de archivos. Ve a Descargas y localiza el archivo que quieres usar (por ejemplo, datos.csv).\nHaz clic derecho sobre el archivo\nSelecciona ‚ÄúPropiedades‚Äù.\nCopia la Ruta de acceso que aparece (por ejemplo: C:\\Users\\TuNombre\\Downloads\\datos.csv).\nCambia las barras invertidas \\ por barras normales /\n\n\nPlease enable JavaScript to experience the dynamic code cell content on this page.\nOJO\nCuando ejecutamos el c√≥digo, R¬†lee el archivo¬†y muestra el contenido en la consola, pero¬†no lo guarda. Es como mirar el resultado sin ponerle nombre: lo ves, pero no puedes volver a usarlo.\n¬øC√≥mo guardarlo?\nPara guardar el resultado, hay que asignarlo a un objeto usando &lt;-:\n\nPlease enable JavaScript to experience the dynamic code cell content on this page.\n\n\nTruco sucio: Usar el panel ‚Äú√Årea de trabajo‚Äù para cargar archivos\n\nHaz clic en el bot√≥n ‚ÄúImport Dataset‚Äù\nEn el panel Environment, busca el bot√≥n que dice ‚ÄúImport Dataset‚Äù y haz clic.\nSelecciona ‚ÄúFrom Text (base)‚Äù\nSi tu archivo es .csv o .txt, elige esta opci√≥n.\nHaz clic en ‚ÄúBrowse‚Ä¶‚Äù\nSe abrir√° una ventana para buscar el archivo.\nüìÅ Navega a la carpeta Descargas y selecciona tu archivo.\nRStudio genera el c√≥digo autom√°ticamente\nVer√°s una vista previa del archivo y RStudio te mostrar√° el c√≥digo que usar√° para cargarlo.\nPuedes copiar ese c√≥digo para usarlo en tus scripts.\n\n\n\n\n6.4 EXTRA: Importar datos desde Excell\nImportar datos desde Excell es muy parecido a la importaci√≥n de datos desde .csv. Las funciones que utilizaremos son write.xlsx() para la exportaci√≥n y read.xlsx() para la importaci√≥n.\n\nEjercicio Extra Importar datos desde excel\n\n# instalar el paquete\n# install.packages(\"xlsx\")  \n\n# abrir la librer√≠a\nlibrary(xlsx)  \n\nwrite.xlsx(iris, \"data/iris.xlsx\")  # acuerdate que los vamos a guardar en la carpeta data  \n\niris_import_xlsx &lt;- read.xlsx(\"data/iris.xlsx\", 1) # debemos indicar la hoja de Excell desde la cual importar los datos\n\nAunque pongo esto aqu√≠ la mejor forma de cargar un archivo excel es exportarlo como csv y cargarlo ;-)"
  },
  {
    "objectID": "Tema1-Intro1.html#errores-comunes-al-cargar-archivos-csv-en-r",
    "href": "Tema1-Intro1.html#errores-comunes-al-cargar-archivos-csv-en-r",
    "title": "Tema 1. Primera parte - Introducci√≥n general a R",
    "section": "7. Errores comunes al cargar archivos CSV en R",
    "text": "7. Errores comunes al cargar archivos CSV en R\nComenzaremos por descargar los datos desde aqu√≠\n{webr-r, error=TRUE} datos &lt;- read.csv(\"misdatos/datos_con_errores.csv\", sep = \";\") datos\n\n\nError 1: Ruta archivo incorrecta\n‚ÄúCannot open de connection‚Äù o ‚ÄúNo such file or directory‚Äù\nComprobar:\n\nPlease enable JavaScript to experience the dynamic code cell content on this page.\n\n\nEjercicio 6 Carga el archivo\n\n# Escribe aqu√≠ o en tu consola de R el c√≥digo para cargar el archivo\n\n\n\nError 2: Separadores incorrectos\nEl archivo se carga pero todas las columnas aparecen en una sola. Esto sucede porque el archivo usa ; como separador mientras que read.csv por defecto usa ,\n\nPlease enable JavaScript to experience the dynamic code cell content on this page.\n\n\n\nError 3: Valores ausentes\nAlgunas celdas est√°n vac√≠as. ¬øC√≥mo las identificamos?\n\nPlease enable JavaScript to experience the dynamic code cell content on this page."
  },
  {
    "objectID": "Tema2.html",
    "href": "Tema2.html",
    "title": "Tema 2. Manejo y filtrado de datos de biodiversidad.",
    "section": "",
    "text": "Introducir el paquete tidyverse y su filosof√≠a.\nAprender a importar, explorar, transformar y filtrar datos.\nAplicar funciones clave de dplyr y tidyr en datos reales de biodiversidad.\nDiagnosticar errores comunes al manipular datos."
  },
  {
    "objectID": "Tema2.html#qu√©-es-el-universo-tidyverse",
    "href": "Tema2.html#qu√©-es-el-universo-tidyverse",
    "title": "Tema 2. Manejo y filtrado de datos de biodiversidad.",
    "section": "¬øQu√© es el universo tidyverse?",
    "text": "¬øQu√© es el universo tidyverse?\nEl universo tidyverse es como una caja de herramientas moderna para R. Incluye paquetes como dplyr, ggplot2, tidyr, readr, entre otros, que est√°n dise√±ados para que el c√≥digo se lea de izquierda a derecha, como si estuvieras contando una historia.\nLo primero que hay que hacer es instalarse los paquetes de tidyverse.\n\nPlease enable JavaScript to experience the dynamic code cell content on this page.\nAhora aprenderemos a usar algunas de las funciones m√°s importantes de tidyverse"
  },
  {
    "objectID": "Tema2.html#seleccionar-columnas-y-filtrar-filas",
    "href": "Tema2.html#seleccionar-columnas-y-filtrar-filas",
    "title": "Tema 2. Manejo y filtrado de datos de biodiversidad.",
    "section": "1. Seleccionar columnas y filtrar filas",
    "text": "1. Seleccionar columnas y filtrar filas\nVamos a seguir trabajando con la base de datos de comunidades de Alberta que puedes descargar aqu√≠\n\nEjercicio 1. ¬øRecu√©rdas c√≥mo se cargaba?\n\nPlease enable JavaScript to experience the dynamic code cell content on this page.\n\nMostrar/Ocultar soluci√≥n\n\n\nSoluci√≥n:\n\n\nPlease enable JavaScript to experience the dynamic code cell content on this page.\n\n\n\nSeleccionar columnas\nPara seleccionar columnas usamos la funci√≥n select(). Empecemos con un ejemplo sencillo, escoger las columnas plot y Carex filifolia.\n\nPlease enable JavaScript to experience the dynamic code cell content on this page.\nTIP: Prueba a seleccionar otras columnas\nLa funci√≥n select() es muy flexible y tiene muchos argumentos, dentro de esos argumentos podemos usar funciones. Por ejemplo, podemos seleccionar todas las columnas de las especies de Artemisia utilizando la funci√≥n starts_with() dentro de select()\n\nPlease enable JavaScript to experience the dynamic code cell content on this page.\nHay muchas otras funciones para facilitar seleccionar conjuntos de columnas como ends_with(), contains(). Puedes encontrar m√°s ejemplos en este enlace\n\n\nFiltrar filas\nTambi√©n podemos filtrar filas. Para ello usamos la funci√≥n filter().\nPor ejemplo, para filtrar todas las parcelas donde Antennaria parviflora tiene m√°s de 2 individuos usamos:\n\nPlease enable JavaScript to experience the dynamic code cell content on this page."
  },
  {
    "objectID": "Tema2.html#pipes",
    "href": "Tema2.html#pipes",
    "title": "Tema 2. Manejo y filtrado de datos de biodiversidad.",
    "section": "2. Pipes",
    "text": "2. Pipes\nEl operador pipe %&gt;% (pipe) es uno de los m√°s interesantes en tidyverse, en vez de escribir funciones dentro de funciones (como en base R), en tidyverse podemos conectar pasos de forma secuencial usando este operador.\nVamos con un ejemplo sencillo:\n\nPlease enable JavaScript to experience the dynamic code cell content on this page.\nF√≠jaos que el c√≥digo de arriba es equivalente a mean(n). El operador pipe %&gt;% se puede entender como ‚Äúy despu√©s haz‚Äù. Lo que hace es coger el resultado del c√≥digo que est√° a la izquierda y pasarlo como primer argumento a la funci√≥n que est√° a la derecha\n\nEjercicio 2 ¬øY si queremos hacer la ra√≠z cuadrada de la media? ¬øC√≥mo har√≠amos usando %&gt;%?\n\nPlease enable JavaScript to experience the dynamic code cell content on this page.\n\nMostrar/Ocultar soluci√≥n\n\n\nSoluci√≥n:\n\n\nPlease enable JavaScript to experience the dynamic code cell content on this page.\n\nAhora vamos a trabajar con la base de datos de Alberta\n\n\nEjercicio 3 Selecciona solo las columnas de Antennaria y filtra las parcelas donde Artemisia_frigida tenga abundancia mayor que 20.\n\nPlease enable JavaScript to experience the dynamic code cell content on this page.\n\nMostrar/Ocultar soluci√≥n\n\n\nSoluci√≥n:\n\n\nPlease enable JavaScript to experience the dynamic code cell content on this page.\n\nEs importante tener en cuenta que el pipe pasa al primer argumento de la funci√≥n. Cuando queremos pasar el resultado del pipe a un arguemnto que no es el primero de la funci√≥n hay que poner un punto . para especificar donde deber√≠a ir."
  },
  {
    "objectID": "Tema2.html#mutate-crear-y-modificar-columnas",
    "href": "Tema2.html#mutate-crear-y-modificar-columnas",
    "title": "Tema 2. Manejo y filtrado de datos de biodiversidad.",
    "section": "3. Mutate: Crear y modificar columnas",
    "text": "3. Mutate: Crear y modificar columnas\nVamos a explorar la forma en la que podemos crear y modificar columnas con la funci√≥n mutate. Por ejemplo, vamos a crear una nueva columna multiplicando por 10 la abundancida de la especie Antennaria parviflora\n\nPlease enable JavaScript to experience the dynamic code cell content on this page.\nLa funci√≥n es muy flexible y nos permite hacer operaciones bastante complejas en un solo paso. Por ejemplo, podemos crear una variable categ√≥rica que sea ‚Äús√≠‚Äù cuando Antennaria parviflora es mayor 10 y ‚ÄúNo‚Äù cuando es menor o igual a 10.\n\nPlease enable JavaScript to experience the dynamic code cell content on this page.\nO calcular el porcentaje de la especie con respecto al total\n\nPlease enable JavaScript to experience the dynamic code cell content on this page."
  },
  {
    "objectID": "Tema3-2-Metodos-anova.html",
    "href": "Tema3-2-Metodos-anova.html",
    "title": "Tema 3. Segunda parte - Anova",
    "section": "",
    "text": "En las siguientes sesiones vamos a centrarnos en m√©todos de comparaciones. Hemos incluido en este apartado aquellos m√©todos comunes que se emplean para estudiar el efecto de uno o m√°s factores cada uno con sus respectivos niveles.\nVamos a emplear una base de datos de abundancia de especies en herbazales de Alberta en Estados Unidos. Los datos provienen de un taller sobre an√°lisis de la biodiversidad en R que pod√©is encontrar aqu√≠\nEn esta misma base de datos hay recogidas una serie de caracter√≠sticas ambientales de las parcelas como son la pendiente ‚Äúslope‚Äù, la orientaci√≥n ‚Äúaspect‚Äù y la humedad relativa ‚Äúrel.moisture‚Äù.\nComenzamos por cargar los datos:\nVamos a comenzar con una pregunta sencilla. Queremos averiguar si hay diferencias en riqueza de especies en funci√≥n de las caracter√≠sticas ambientales de las parcelas.\nPara ello a partir de la tabla de comunidades calculamos la riqueza\nComprobamos que las cuadr√≠culas est√°n ordenadas de la misma manera en la tabla de condiciones ambientales y la de composici√≥n espec√≠fica ¬°esto es muy importante!\nSi no lo estuvieran podemos reordenarlos con la siguiente l√≠nea"
  },
  {
    "objectID": "Tema3-2-Metodos-anova.html#an√°lisis-de-la-varianza-factores-con-dos-n√≠veles",
    "href": "Tema3-2-Metodos-anova.html#an√°lisis-de-la-varianza-factores-con-dos-n√≠veles",
    "title": "Tema 3. Segunda parte - Anova",
    "section": "1.2. An√°lisis de la varianza, factores con dos n√≠veles",
    "text": "1.2. An√°lisis de la varianza, factores con dos n√≠veles\nVer aqu√≠ https://biocosas.github.io/R/050_anova.html\n¬øVar√≠an estos dos h√°bitats en cuanto a su pendiente, orientaci√≥n y humedad relativa?\nPara contestar a esta pregunta vamos a utilizar un an√°lisis de la varianza\n\nEstimar el modelo ANOVA\nPrimero representamos los datos utilizando un gr√°fico de caja y bigotes\nboxplot(env_alberta$slope ~ env_alberta$habitat)\nAhora vamos a utilizar la funci√≥n aov para calcular un an√°lisis de la varianza y comprobar si las diferencias entre grupos son mayores que las diferencias intra grupos\nLa funci√≥n aov tiene dos argumentos:\n\nformula una f√≥rmula que especifique el modelo en la que a la izquierda tenemos la variable cuantitativa y a la derecha separado por una virgulilla ~ la (o las) variables cualitativas\ndata los datos que vamos a emplear\n\n\nPlease enable JavaScript to experience the dynamic code cell content on this page.\n\nPlease enable JavaScript to experience the dynamic code cell content on this page.\n\nEjercicio 1: Calcula la riqueza de especies de cada cuadr√≠cula. Nota: Crea una nueva variable que se llame S_alberta\n\nPlease enable JavaScript to experience the dynamic code cell content on this page.\n\n\nEjercicio 2: Haz un gr√°fico de caja y bigotes que compare la riqueza entre los dos h√°bitat\n\nPlease enable JavaScript to experience the dynamic code cell content on this page.\n\n\nEjercicio 3: Teniendo en cuenta este gr√°fico ¬øCrees que habr√° diferencias significativas entre h√°bitats?\n\n\nEjercicio 4: Haz un an√°lisis de la varianza para comprobar si existen diferencias significativas entre muestras los resultados. Guarda el an√°lisis en un objeto que se llame ‚Äúanova‚Äù y explora los resultados\n\nPlease enable JavaScript to experience the dynamic code cell content on this page.\nComprobamos los residuos\n\nPlease enable JavaScript to experience the dynamic code cell content on this page.\n\nPlease enable JavaScript to experience the dynamic code cell content on this page.\n¬°Las comunidades de Festuca, que son caracter√≠sticas de zonas m√°s h√∫medas tienen un mayor n√∫mero de especies! De hecho las comunidades de Festuca tienen unas 15 especies m√°s que las comunidades mixtas"
  },
  {
    "objectID": "Tema3-2-Metodos-anova.html#an√°lisis-de-la-varianza-factores-con-varios-niveles",
    "href": "Tema3-2-Metodos-anova.html#an√°lisis-de-la-varianza-factores-con-varios-niveles",
    "title": "Tema 3. Segunda parte - Anova",
    "section": "1.3 An√°lisis de la varianza, factores con varios niveles",
    "text": "1.3 An√°lisis de la varianza, factores con varios niveles\nHasta ahora hemos visto ejemplos con ANOVAS en los que nuestro factor solo tiene dos niveles. Ahora vamos a ver un ejemplo en el que tenemos m√°s niveles.\nAunque hab√≠amos tratado la humedad relativa como variable cuantitativa en realidad es un √≠ndice que toma los valores 1, 2, 3. As√≠ que vamos a tranformar la variable en un factor.\n¬°OJO! Es muy com√∫n que si hab√©is codificado factores con n√∫meros R entienda que son valores cuantitativos. Siempre que no sea as√≠ tranformad las variables en cualitativas\n\nPlease enable JavaScript to experience the dynamic code cell content on this page.\nComo siempre, lo primero es representar los datos\n\nPlease enable JavaScript to experience the dynamic code cell content on this page.\n\nPlease enable JavaScript to experience the dynamic code cell content on this page.\n\nEjercicio 5: ¬øC√≥mo intepretamos este resultado?\nGr√°ficos de diagnostico\n\nPlease enable JavaScript to experience the dynamic code cell content on this page."
  },
  {
    "objectID": "Tema3-4-Metodos-ordenacion.html",
    "href": "Tema3-4-Metodos-ordenacion.html",
    "title": "Tema 3. Primera parte - √çndices de diversidad",
    "section": "",
    "text": "Breve introducci√≥n\nLos m√©todos de ordenaci√≥n se emplean habitualmente para representar datos que tienen muchas dimensiones (como por ejemmplo los datos de composici√≥n espec√≠fica) a lo largo de un n√∫mero reducido de ejes.Las bases de datos con multitud de variables son dif√≠ciles de representar. En las ordenaciones se asume que la informaci√≥n que contiene nuestra base de datos multivariante tiene informaci√≥n redundante. As√≠, el an√°lisis de ordenaci√≥n simplifica o ‚Äúreduce‚Äù esa informaci√≥n para que podamos visualizar las muestras. Esta visualizaci√≥n ofrece una forma sencilla de analizar c√≥mo se ordenan las muestras y ver cu√°les son m√°s parecidas entre s√≠.\nAdem√°s, una vez que tenemos las muestras ‚Äúordenadas‚Äù es frecuente que queramos saber si ese orden se corresponde con alg√∫n grupo en particular (por ejemplo, el h√°bitat en el que recogimos las muestras) o con variables ambientales (por ejemplo, si las muestras se ordenan a lo largo de un gradiente de humedad). Algunos m√©todos de ordenaci√≥n permiten hacer este tipo de an√°lsis.\nEn este tema vamos centrarnos en an√°lisis de componentes principales que es muy √∫til para comunidades de especies en las que las diferencias entre comunidades no son muy grandes y, por lo tanto, no hay muchas especies que est√°n ausentes de buena parte de las localidades (la base de datos tiene pocos ceros).\nCuando la composici√≥n espec√≠fica es muy heterog√©nea o tenemos otro tipo de datos lo mejor es optar por otro tipo de an√°lisis de ordenaci√≥n. Una buena muy p√°gina en la que pod√©is explorar todas las posibilidades que ofrecen este tipo de an√°lisis es la publicada por David Zeleny v√≠nculo aqu√≠\nComo siempre vamos a trabajar con la base de datos de herb√°ceas de Alberta.\n\nPlease enable JavaScript to experience the dynamic code cell content on this page.\nExisten varias funciones que permiten hacer PCAs en R. Por ejemplo, la funci√≥n rda() en el paquete vegan, la funci√≥n prcomp en el paquete stats y la funci√≥n pca en el paquete labdsv.\nVamos a utilizar la funci√≥n rda del paquete vegan.\nComenzamos por cargar las librer√≠as\n\nPlease enable JavaScript to experience the dynamic code cell content on this page.\nLa funci√≥n rda permite hacer Principal component Analysis (PCA), redundancy analysis (RDA),\n\nPlease enable JavaScript to experience the dynamic code cell content on this page.\n\nPlease enable JavaScript to experience the dynamic code cell content on this page.\nPara acceder a los elementos de resultados podemo utilizar el comando summary\n\nPlease enable JavaScript to experience the dynamic code cell content on this page.\nEl resumen del an√°lisis nos muestra la proporci√≥n de la varianza explicada por cada eje. Esto lo podemos interpretar como la cantidad de informaci√≥n que contienen nuestros ejes con respecto a la informaci√≥n que contiene la base de datos.\n\nEjercicio 1. En el ejemplo de Alberta ¬øQu√© porcentaje de variabilidad absorbe el primer eje?\n\n\nEjercicio 2. En el ejemplo de Alberta ¬øCu√°l es la especie que tiene mayor peso en el eje 1?\n\n\nEjercicio 3. En el ejemplo de Alberta ¬øCu√°l es la especie que tiene mayor peso en el eje 2?\n\n\nEjercicio resuelto. ¬øQu√© peso tiene las especies Artemisia cana y Artemisia rigida en el eje 1?\n\nPlease enable JavaScript to experience the dynamic code cell content on this page.\nAhora pasamos a representar los datos\nTambi√©n podemos hacer una representaci√≥n gr√°fica del peso de la varianza que recoje cada eje\n\nPlease enable JavaScript to experience the dynamic code cell content on this page.\nComo pod√©is ver los nombres de las especies no se leen porque ocupan demasiado espacio. Una posibilidad para solucionarlo es abreviar los nombres de las especies. Para eso, por convenci√≥n se cogen las tres letras del epiteto gen√©rico y las primeras tres del epiteto de especie o subespecie.\n¬°OJO! En la base de datos las especies est√°n separadas por un gui√≥n bajo. Lo primero que tenemos que hacer es sustituir el gui√≥n bajo por un espacio para lo que usaremos la funci√≥n gsub\n\nPlease enable JavaScript to experience the dynamic code cell content on this page.\n\nPlease enable JavaScript to experience the dynamic code cell content on this page.\nCambiamos el nombre de las columnas de la matriz.\n\nPlease enable JavaScript to experience the dynamic code cell content on this page.\nY recalculamos\n\nPlease enable JavaScript to experience the dynamic code cell content on this page.\nNOTA: En an√°lisis de componentes principales (PCA) tambi√©n se puede emplear para resumir informaci√≥n ambiental. Es adecuado cuando tenemos muchas variables ambientales y queremos simplificar (reducir las dimensiones). Por ejemplo, lo podr√≠amos emplear para resumir la informaci√≥n clim√°tica de la base de datos de AFLIBER.\n\nPlease enable JavaScript to experience the dynamic code cell content on this page.\n\nPlease enable JavaScript to experience the dynamic code cell content on this page.\n\nPlease enable JavaScript to experience the dynamic code cell content on this page."
  },
  {
    "objectID": "Tema2.html#reestructuraci√≥n-de-datos-pivot_longer-y-pivot_wider",
    "href": "Tema2.html#reestructuraci√≥n-de-datos-pivot_longer-y-pivot_wider",
    "title": "Tema 2. Manejo y filtrado de datos de biodiversidad.",
    "section": "4. Reestructuraci√≥n de datos: pivot_longer() y pivot_wider()",
    "text": "4. Reestructuraci√≥n de datos: pivot_longer() y pivot_wider()\nCuando trabajamos con datos de biodiversidad, muchas veces las tablas que recibimos no tienen la forma que necesitamos. A veces son anchas (muchas columnas para las especies) y queremos pasarlas a largas (una sola columna con los nombres de especies y otra con sus valores).\nEn otras ocasiones ocurre lo contrario: tenemos los datos en formato largo y queremos volver a un formato ancho.\nAqu√≠ es donde entran dos funciones clave de tidyr:\npivot_longer() ‚Üí convierte columnas en filas.\npivot_wider() ‚Üí convierte filas en columnas.\n¬øPor qu√© es importante?\n\nEl formato largo es mucho m√°s flexible para an√°lisis y visualizaci√≥n (por ejemplo, para graficar con ggplot2).\nEl formato ancho es √∫til para reportes y c√°lculos m√°s directos.\nSaber moverse entre ambos formatos es esencial en ecolog√≠a y biodiversidad, donde trabajamos con comunidades de especies.\n\nCuando trabajamos con datos de biodiversidad, a menudo tenemos tablas en formato ancho (una columna por especie) y necesitamos transformarlas a formato largo (una columna para especies y otra para sus valores). La funci√≥n que usamos en tidyr para esto es:\npivot_longer(data,\ncols,\nnames_to = \"nombre_columna\",\nvalues_to = \"nombre_valores\")\n\nArgumentos principales\n\ndata: el data frame o tibble con tus datos. Normalmente se usa dentro de un pipe (%&gt;%).\ncols: columnas que quieres transformar en filas. Ejemplo: cols = -plot o cols = c(Carex_filifolia, Artemisia_frigida).\nnames_to: nombre de la nueva columna con los nombres de las variables originales. Ejemplo: names_to = \"species\".\nvalues_to: nombre de la nueva columna con los valores de esas variables. Ejemplo: values_to = \"abundance\".\n\n\nEjemplo\nSupongamos que tenemos esta tabla:\n\nPlease enable JavaScript to experience the dynamic code cell content on this page.\nTransformamos con pivot_longer():\n\nPlease enable JavaScript to experience the dynamic code cell content on this page.\n\n\nEjercicio 4. Pasa la tabla de datos de comunidades de Alberta a formato largo"
  },
  {
    "objectID": "Tema2.html#pivot_wider-pasar-a-formato-ancho",
    "href": "Tema2.html#pivot_wider-pasar-a-formato-ancho",
    "title": "Tema 2. Manejo y filtrado de datos de biodiversidad.",
    "section": "pivot_wider(): pasar a formato ancho",
    "text": "pivot_wider(): pasar a formato ancho\nCuando trabajamos con datos de biodiversidad, a veces los tenemos en formato largo (una fila por especie y parcela) y necesitamos transformarlos a formato ancho (una columna por especie). La funci√≥n que usamos en tidyr es:\n{webr-r, eval=FALSE} pivot_wider(data, names_from = \"nombre_columna\", values_from = \"nombre_valores\")\n\nArgumentos principales\n\ndata: el data frame o tibble con tus datos. Normalmente se usa dentro de un pipe (%&gt;%).\nnames_from: columna que contiene los nombres de las variables que se convertir√°n en columnas. Por ejemplo, si tenemos una columna species con los nombres de las especies, cada especie se convertir√° en una nueva columna.\nvalues_from: columna que contiene los valores asociados a las variables que se convertir√°n en columnas. Por ejemplo, si tenemos una columna abundance con las abundancias de cada especie, esos valores se colocar√°n en las nuevas columnas.\nid_cols (opcional): columnas que identifican de manera √∫nica cada fila. Si no se especifica, pivot_wider() intenta deducirlas autom√°ticamente.\nnames_prefix (opcional): prefijo que se puede a√±adir a los nombres de las nuevas columnas.\nvalues_fill (opcional): valor con el que rellenar las celdas vac√≠as en el caso de que no haya datos. Por ejemplo, values_fill = 0.\n\n\n\nEjemplo\nA partir de la tabla en formato largo que acabamos de crear:\n\nPlease enable JavaScript to experience the dynamic code cell content on this page.\nTransformamos con pivot_wider():\n\nPlease enable JavaScript to experience the dynamic code cell content on this page.\n\nEjercicio 5 Reconstruye la tabla ancha de datos de Alberta usando pivot_wider()\n\n\n\nla funci√≥n rename\nSirve para renombrar una variable, manteniendo todo el contenido id√©ntico.\n\nPlease enable JavaScript to experience the dynamic code cell content on this page.\n\n\nla funci√≥n arrange\nSirve para cambiar el orden de la tabla en funci√≥n de una o m√°s variables. Por defecto, ordena por orden creciente (alfab√©tico para character). Para hacerlo descendiente, se pone desc(variable).\n\nPlease enable JavaScript to experience the dynamic code cell content on this page.\nCategorizaci√≥n m√∫ltiple con case_when\nSe utiliza dentro de mutate, de modo similar a if_else, pero permitiendo m√°s niveles.\nHay que tener cuidado con casos que cumplan m√°s de una condici√≥n (prioriza el criterio que est√° antes) o no cumplan ninguna (resultar√° un NA).\n\nPlease enable JavaScript to experience the dynamic code cell content on this page."
  },
  {
    "objectID": "Tema4.html",
    "href": "Tema4.html",
    "title": "Tema 4. Representaci√≥n gr√°fica y presentaci√≥n de resultados",
    "section": "",
    "text": "El paquete ggplot2 se basa en la gram√°tica interna de un gr√°fico; no es una funci√≥n para hacer cada tipo de gr√°fico, sino una manera de entenderlos, y por tanto ‚Äúuniversal‚Äù. Ver presentaci√≥n complementaria\nEn este caso tambi√©n vamos a ir a√±adiendo capas l√≠nea a l√≠nea, pero en vez de pipes ( %&gt;% ) usaremos s√≠mbolo de suma ( + ) para encadenar instrucciones.\nPara esta sesi√≥n vamos a utilizar los datos penguins de Palmer\n\nPlease enable JavaScript to experience the dynamic code cell content on this page.\n\n\nggplot2 entiende los gr√°ficos como una serie de capas (datos, posici√≥n de ejes, colores, temas‚Ä¶), pero solo hay tres obligatorios, mientras que el resto tienen valores por defecto razonables.\nArgumentos obligatorios: - Data: un dataset. penguins en nuestro ejemplo. - Mapping: el enlace entre nuestos datos y el gr√°fico. ¬øQu√© informaci√≥n guardada en cada columna va a ser referida en el gr√°fico (ejes, color/relleno, tama√±o‚Ä¶)? Todo esto se encuadra dentro de la funci√≥n aes(). - Geometries: qu√© tipo de gr√°fico queremos (puntos, l√≠neas, barras, histograma‚Ä¶).\n\n\n\n\n\n\nPlease enable JavaScript to experience the dynamic code cell content on this page.\n¬øPodr√≠amos colorear todo de azul? ```vkdujffo ggplot(data = penguins, mapping = aes(x = body_mass, y = bill_len))+ geom_point(color = ‚Äúblue‚Äù)\n\n#### Ejemplo 2. Mejor color√©alos dependiendo de la especie.\n```{webr-r}\nggplot(penguins, aes(x = body_mass, y = bill_len, color = species))+\n  geom_point()\nEn este caso, color va dentro de aes() ya que est√° referido a una columna.\nSe pueden modificar muchos par√°metros, como transparencia, tama√±o del punto‚Ä¶\n\nPlease enable JavaScript to experience the dynamic code cell content on this page.\n\n\n\n\nHasta ahora, lo √∫nico que hemos graficado han sido gr√°ficos de dispersi√≥n(geom_piont()), pero podemos hacer muchos otros tipos de gr√°fico.\n\n\nPor ejemplo, podemos a√±adir una l√≠nea de regresi√≥n a nuestro gr√°fico previo: vkdujffo ggplot(penguins, aes(x = body_mass, y = bill_len))+   geom_point(colour = \"blue\")+   geom_smooth(method = \"lm\", color = \"red\") ### Histogramas Un gr√°fico comun para ver la distribuci√≥n de valores de una variable es un histograma. En este caso solo hay valor x (continua), ya que la y es el conteo de veces que se toma el valor.\nPara ver c√≥mo se distribuyen los valores de masa corporal: vkdujffo ggplot(penguins, aes(x = body_mass))+   geom_histogram(bins = 50) # bins = n√∫mero de agrupaciones\n\n\n\nDe manera cl√°sica, se han utilizado boxplots para ver si hay diferencias entre grupos. Adem√°s, si queremos ver los datos ‚Äúbrutos‚Äù podemos poner las observaciones ‚Äúagitadas‚Äù para ver c√≥mo se distribuyen.\n\nPlease enable JavaScript to experience the dynamic code cell content on this page.\nUna alternativa a esto ser√≠a hacer un gr√°fico de violones, en el que se muestra la distribuci√≥n de la densidad de puntos por grupo.\n\nPlease enable JavaScript to experience the dynamic code cell content on this page.\n\n\n\n\nLos cambios de valores (color, relleno, transparencia) por defecto hay que cambiarlos utilizando la capa scales.\n\nPlease enable JavaScript to experience the dynamic code cell content on this page.\nO para una variable continua:\n\nPlease enable JavaScript to experience the dynamic code cell content on this page.\n\n\n\nPara ver c√≥mo se distribuyen los casos en nuestro dataset podemos ‚Äúromperlo‚Äù en funci√≥n de una (wrap) o dos (grid) variables, dejando todo lo dem√°s igual.\n\nPlease enable JavaScript to experience the dynamic code cell content on this page.\n\nPlease enable JavaScript to experience the dynamic code cell content on this page.\n\n\n\nLa capa theme hace referencia a todo lo que se refiere al ‚Äúmarco‚Äù, pero no afecta a la salida de nuestros datos (es decir, nombres de ejes, visualizaci√≥n, etc.).\nLa funci√≥n labs() permite fijar el nombre del eje x, y, t√≠tulo y descripci√≥n.\n\nPlease enable JavaScript to experience the dynamic code cell content on this page.\nAdem√°s, podemos quitar el tema por defecto (gris) y poner otro en blanco y negro (por ejemplo).\n\nPlease enable JavaScript to experience the dynamic code cell content on this page.\nY editar el texto de los ejes, color de la cuadr√≠cula, etc..\n\nPlease enable JavaScript to experience the dynamic code cell content on this page.\n\n\n\nPongamos que tenemos dos gr√°ficos complementarios que queremos mostrar\n\nPlease enable JavaScript to experience the dynamic code cell content on this page.\nPodemos hacer una √∫nica figura para guardarla despu√©s\n\nPlease enable JavaScript to experience the dynamic code cell content on this page.\n\n\n\n\n\n\nPlease enable JavaScript to experience the dynamic code cell content on this page.\n\nPlease enable JavaScript to experience the dynamic code cell content on this page.\n\n\n\n\nPlease enable JavaScript to experience the dynamic code cell content on this page."
  },
  {
    "objectID": "Tema4.html#las-capas-de-ggplot",
    "href": "Tema4.html#las-capas-de-ggplot",
    "title": "Tema 4. Representaci√≥n gr√°fica y presentaci√≥n de resultados",
    "section": "",
    "text": "ggplot2 entiende los gr√°ficos como una serie de capas (datos, posici√≥n de ejes, colores, temas‚Ä¶), pero solo hay tres obligatorios, mientras que el resto tienen valores por defecto razonables.\nArgumentos obligatorios: - Data: un dataset. penguins en nuestro ejemplo. - Mapping: el enlace entre nuestos datos y el gr√°fico. ¬øQu√© informaci√≥n guardada en cada columna va a ser referida en el gr√°fico (ejes, color/relleno, tama√±o‚Ä¶)? Todo esto se encuadra dentro de la funci√≥n aes(). - Geometries: qu√© tipo de gr√°fico queremos (puntos, l√≠neas, barras, histograma‚Ä¶)."
  },
  {
    "objectID": "Tema4.html#la-capa-mapping",
    "href": "Tema4.html#la-capa-mapping",
    "title": "Tema 4. Representaci√≥n gr√°fica y presentaci√≥n de resultados",
    "section": "",
    "text": "Please enable JavaScript to experience the dynamic code cell content on this page.\n¬øPodr√≠amos colorear todo de azul? ```vkdujffo ggplot(data = penguins, mapping = aes(x = body_mass, y = bill_len))+ geom_point(color = ‚Äúblue‚Äù)\n\n#### Ejemplo 2. Mejor color√©alos dependiendo de la especie.\n```{webr-r}\nggplot(penguins, aes(x = body_mass, y = bill_len, color = species))+\n  geom_point()\nEn este caso, color va dentro de aes() ya que est√° referido a una columna.\nSe pueden modificar muchos par√°metros, como transparencia, tama√±o del punto‚Ä¶\n\nPlease enable JavaScript to experience the dynamic code cell content on this page."
  },
  {
    "objectID": "Tema4.html#tipos-de-gr√°fico-la-capa-geometries",
    "href": "Tema4.html#tipos-de-gr√°fico-la-capa-geometries",
    "title": "Tema 4. Representaci√≥n gr√°fica y presentaci√≥n de resultados",
    "section": "",
    "text": "Hasta ahora, lo √∫nico que hemos graficado han sido gr√°ficos de dispersi√≥n(geom_piont()), pero podemos hacer muchos otros tipos de gr√°fico.\n\n\nPor ejemplo, podemos a√±adir una l√≠nea de regresi√≥n a nuestro gr√°fico previo: vkdujffo ggplot(penguins, aes(x = body_mass, y = bill_len))+   geom_point(colour = \"blue\")+   geom_smooth(method = \"lm\", color = \"red\") ### Histogramas Un gr√°fico comun para ver la distribuci√≥n de valores de una variable es un histograma. En este caso solo hay valor x (continua), ya que la y es el conteo de veces que se toma el valor.\nPara ver c√≥mo se distribuyen los valores de masa corporal: vkdujffo ggplot(penguins, aes(x = body_mass))+   geom_histogram(bins = 50) # bins = n√∫mero de agrupaciones\n\n\n\nDe manera cl√°sica, se han utilizado boxplots para ver si hay diferencias entre grupos. Adem√°s, si queremos ver los datos ‚Äúbrutos‚Äù podemos poner las observaciones ‚Äúagitadas‚Äù para ver c√≥mo se distribuyen.\n\nPlease enable JavaScript to experience the dynamic code cell content on this page.\nUna alternativa a esto ser√≠a hacer un gr√°fico de violones, en el que se muestra la distribuci√≥n de la densidad de puntos por grupo.\n\nPlease enable JavaScript to experience the dynamic code cell content on this page."
  },
  {
    "objectID": "Tema4.html#edici√≥n-de-colores-la-capa-scales.",
    "href": "Tema4.html#edici√≥n-de-colores-la-capa-scales.",
    "title": "Tema 4. Representaci√≥n gr√°fica y presentaci√≥n de resultados",
    "section": "",
    "text": "Los cambios de valores (color, relleno, transparencia) por defecto hay que cambiarlos utilizando la capa scales.\n\nPlease enable JavaScript to experience the dynamic code cell content on this page.\nO para una variable continua:\n\nPlease enable JavaScript to experience the dynamic code cell content on this page."
  },
  {
    "objectID": "Tema4.html#separaci√≥n-de-casos-la-capa-facets",
    "href": "Tema4.html#separaci√≥n-de-casos-la-capa-facets",
    "title": "Tema 4. Representaci√≥n gr√°fica y presentaci√≥n de resultados",
    "section": "",
    "text": "Para ver c√≥mo se distribuyen los casos en nuestro dataset podemos ‚Äúromperlo‚Äù en funci√≥n de una (wrap) o dos (grid) variables, dejando todo lo dem√°s igual.\n\nPlease enable JavaScript to experience the dynamic code cell content on this page.\n\nPlease enable JavaScript to experience the dynamic code cell content on this page."
  },
  {
    "objectID": "Tema4.html#tema-del-gr√°fico",
    "href": "Tema4.html#tema-del-gr√°fico",
    "title": "Tema 4. Representaci√≥n gr√°fica y presentaci√≥n de resultados",
    "section": "",
    "text": "La capa theme hace referencia a todo lo que se refiere al ‚Äúmarco‚Äù, pero no afecta a la salida de nuestros datos (es decir, nombres de ejes, visualizaci√≥n, etc.).\nLa funci√≥n labs() permite fijar el nombre del eje x, y, t√≠tulo y descripci√≥n.\n\nPlease enable JavaScript to experience the dynamic code cell content on this page.\nAdem√°s, podemos quitar el tema por defecto (gris) y poner otro en blanco y negro (por ejemplo).\n\nPlease enable JavaScript to experience the dynamic code cell content on this page.\nY editar el texto de los ejes, color de la cuadr√≠cula, etc..\n\nPlease enable JavaScript to experience the dynamic code cell content on this page."
  },
  {
    "objectID": "Tema3-3-Metodos-regresion.html#la-multicolinealidad",
    "href": "Tema3-3-Metodos-regresion.html#la-multicolinealidad",
    "title": "Tema 3. Tercera parte - M√©todos regresi√≥n",
    "section": "2.1 La multicolinealidad",
    "text": "2.1 La multicolinealidad\nLa regresi√≥n lineal m√∫ltiple tiene que cumplir una serie de condiciones adicionales a las que tienen que cumplirse en la regresi√≥n lineal simple. Una de las m√°s importantes a tener en cuenta es la multicolinealidad.\nLa multicolinealidad es la correlaci√≥n alta entre variables explicativas\nCuando la multicolinealidad es alta puede causar los siguientes problemas:\n\nEl valor de los coeficientes es inestable y depende mucho de las otras variables que incluyamos en el modelo.\nDisminuye la precisi√≥n del modelo y hace que los p-valores obtenidos no sean robustos\n\nPero ¬°ojo! la multicolinealidad no siempre es un problema:\n\nEl efecto de la multicolinealidad depende de cuan grande sea √©sta. Si el grado de multicolinealidad es bajo o medio es posible que el efecto sobre la regresi√≥n no sea importante. De hecho, casi siempre tenemos algo de multicolinealidad.\nCuando la multicolinealidad es consecuencia de a√±adir variables elevadas a una potencia o la multiplicaci√≥n de otras variables en el modelo. En estos casos los p-valores no se ver√°n afectados por la multicolinealidad. Nota: Si queremos eliminar totalmente el problema podemos centrar las variables sustrayendo a cada valor su media.\nLas variables con alta colinealidad son variables dummy que representan variables categ√≥ricas con tres o m√°s niveles.\n\nPara analizar el grado de multicolinealidad podemos emplear el factor de inflacci√≥n de la varianza o VIF por sus siglas en ingl√©s.\nVamos a explorar unos datos en los que la multicolinealidad es muy alta para ver sus efectos. El ejemplo es una de las bases de datos que vienen con el paquete mtcars.\nCargamos los datos\n\nPlease enable JavaScript to experience the dynamic code cell content on this page.\nAjustamos un modelo de regresi√≥n\n\nPlease enable JavaScript to experience the dynamic code cell content on this page.\nY calculamos el factor de inflacci√≥n de la varianza (VIF). Para ello emplearemos el paquete car\n\nPlease enable JavaScript to experience the dynamic code cell content on this page.\n\nPlease enable JavaScript to experience the dynamic code cell content on this page.\nPara corregir los problemas de multicolinealidad existen varias estrategias.\nLa m√°s habitual es eliminar una de las variables que est√©n altamente correlacionadas. Si dos variables est√°n altamente correlacionadas es porque contienen informaci√≥n muy similar y por lo tanto son redundantes. En este escenario podemos eliminar una de ellas. Para ello:\n\nHacemos un an√°lisis de correlaci√≥n entre pares de variables\nIdentificamos las variables m√°s correlacionadas\nEliminamos una de las correlacionadas\nRepetimos el proceso hasta que el VIF se estabilice\n\n\nPlease enable JavaScript to experience the dynamic code cell content on this page.\n\nEjercicio 2 Encuentra una manera de identificar la pareja de variables que tienen el valor m√°ximo de correlaci√≥n utilizando c√≥digo de R\nLa variable displacement indica la cilindrada del motor en cm3 la variable wt indica el peso del veh√≠culo. Dado que tienen una correlaci√≥n &gt;0.8 podemos optar por eliminar una de las dos. Por ejemplo peso del veh√≠ulo\nVolvemos a estimar la regresi√≥n linear pero eliminando la variable wt\n\nPlease enable JavaScript to experience the dynamic code cell content on this page.\nTambi√©n podr√≠amos:\n\nCombinar las dos variables relacionadas, por ejemplo sumando sus valores o empleando un √≠ndice que resuma ambas variables.\nSi las variables correlacionadas son muchas podemos realizar un an√°lisis de ordenaci√≥n (ver tema 3.4) con esas variables antes de hacer la regresi√≥n. Este an√°lisis extrae unos ejes resumen de modo que podemos emplear esos ejes como variables explicativas en la regresi√≥n.\nHay modelos de regresi√≥n que como los modelos LASSO y Ridge que est√°n dise√±ados para trabajar en casos de alta multicolinealidad. Ten√©is una descripci√≥n de lo que hacen estos modelos y c√≥mo calcularlos aqu√≠. Estos modelos reducen los coeficientes de algunas variables a valores cercanos o iguales a cero. Simplifican los modelos y favorecen una interpretaci√≥n m√°s sencilla pero aumentan el posible sesgo.\nNOTA: Si es posible es preferible emplear el m√©todo de eliminar variables redundantes manualmente empleando criterios cient√≠ficos claros.\n\n\n\nEjercicio 3 Calcula la diversidad funcional de las comunidades herb√°ceas de alberta\n\nPlease enable JavaScript to experience the dynamic code cell content on this page.\n\n\nEjercicio 4 Estima una regresi√≥n m√∫ltiple con los herbazales de alberta en la que se emplee el √≠ndice riqueza funcional (Fric) de como variable respuesta y las variables, habitat, pendiente, orientaci√≥n y humedad relativa como variables explicativas\n\nPlease enable JavaScript to experience the dynamic code cell content on this page.\nVamos a ver si se cumplen los supuestos del modelo.\n\nPlease enable JavaScript to experience the dynamic code cell content on this page.\nLos residuos son normales pero hay signos de heterocedasticidad. Una forma de habitual de solucionar el problema es hacer transformaciones de datos. El objetivo de la transformaci√≥n de datos es que los residuos tengan una distribuci√≥n verifique los supuestos del modelo.\nSuele ser √∫til por comprobar si nuestra variable respuesta o alguna de las variables explicativas tienen distribuciones sesgadas.\n\nPlease enable JavaScript to experience the dynamic code cell content on this page.\nComo podemos ver en el gr√°fico la variable Fric tiene una distribuci√≥n sesgada hacia valores bajos. Las tranformaciones m√°s empleadas en estos casos son el logaritmo, la ra√≠z cuadrada. Podemos ir probando las transformaciones para ver si alguna de ellas mejora los residuos. Sin embargo, existe un m√©todo r√°pido para analizar la mejora que producen diferenes tranformaciones. El m√©todo se llama Box-Cox. Cargamos la librer√≠a car\n\nPlease enable JavaScript to experience the dynamic code cell content on this page.\n\nPlease enable JavaScript to experience the dynamic code cell content on this page.\nExtraer el lambda del resultado\n\nPlease enable JavaScript to experience the dynamic code cell content on this page.\nTranformar la variable. Aqu√≠ hay dos opciones. Emplear el valor de lambda exacto o bien mirar al gr√°fico y elegir el tipo de tranformaci√≥n m√°s cercana. Por ejemplo, en este caso el valor exacto de lambda es 0,22. Hay dos transformaciones posibles. Lambda = 0 que equivale al logaritmo o Lambda = a 0,5 que equivale a la ra√≠z cuadrada. Dado que la curva tiene un descenso m√°s suave hacia mayores valores de Lambda elejimos 0,5. Adem√°s, este tipo de tranformaci√≥n es muy com√∫n en datos de este tipo.\n\nPlease enable JavaScript to experience the dynamic code cell content on this page.\nAjustar el modelo empleando la variable tranformada\n\nPlease enable JavaScript to experience the dynamic code cell content on this page.\nComprobamos los residuos\n\nPlease enable JavaScript to experience the dynamic code cell content on this page.\nPor √∫ltimo, ajustamos el modelo, inspeccionamos la significaci√≥n del modelo empleando un anova y los resultados de los coeficientes con el comando summary\n\nPlease enable JavaScript to experience the dynamic code cell content on this page.\nLos coeficientes de una regresi√≥n m√∫ltiple se llaman coeficientes o pendientes parciales y se interpretan en el contexto del resto de variables del modelo.\nPor ejemplo, cuando el resto de variables es constante (normalmente igual a la media) podemos decir que el nivel medio de humead tiene un mayor n√∫mero de especies que el nivel bajo de humedad.\nEs muy √∫til representar los efectos de cada variable explicativa sobre la variable respuesta cuando el resto de variables explicativas son constantes. Esto muestra el efecto parcial de una variable sobre la respuesta.\n\nPlease enable JavaScript to experience the dynamic code cell content on this page.\n\nPlease enable JavaScript to experience the dynamic code cell content on this page."
  },
  {
    "objectID": "Tema4.html#combinar-gr√°ficos-con-patchwork",
    "href": "Tema4.html#combinar-gr√°ficos-con-patchwork",
    "title": "Tema 4. Representaci√≥n gr√°fica y presentaci√≥n de resultados",
    "section": "",
    "text": "Pongamos que tenemos dos gr√°ficos complementarios que queremos mostrar\n\nPlease enable JavaScript to experience the dynamic code cell content on this page.\nPodemos hacer una √∫nica figura para guardarla despu√©s\n\nPlease enable JavaScript to experience the dynamic code cell content on this page."
  },
  {
    "objectID": "Tema4.html#extensiones-de-ggplot",
    "href": "Tema4.html#extensiones-de-ggplot",
    "title": "Tema 4. Representaci√≥n gr√°fica y presentaci√≥n de resultados",
    "section": "",
    "text": "Please enable JavaScript to experience the dynamic code cell content on this page.\n\nPlease enable JavaScript to experience the dynamic code cell content on this page.\n\n\n\n\nPlease enable JavaScript to experience the dynamic code cell content on this page."
  }
]